\clearpage
\section{Interface Utilisateur}
\label{sec:gui}

\subsection{Fenêtre}
La fenêtre principale du programme a une taille prédéfinie de 1280x720 pixels et n'est pas redimensionnable. Cette dimension a été choisie car elle correspond à une résolution de 16:9 et est à la fois suffisamment petite pour ne pas déborder de la plupart des écrans, et suffisamment grande pour nous permettre d'afficher des éléments suffisamment détaillés.
\begin{figure}[H]
	\centering
		\includegraphics[scale=0.5]{images/window.png}
	\caption{Fenêtre}
	\label{fig:window}
\end{figure}

Une fenêtre secondaire s'ouvre avant la fenêtre principale : la ChosingFrame. Celle-ci permet de sélectionner dans un premier temps le nombre de peuples (entre 2 et 16 pour des soucis d'optimisation), puis de choisir quels seront les peuples en question.
\newline
Un menu déroulant présent en bas de cette fenêtre permet à l'utilisateur de choisir le thème qu'il souhaite utiliser (voir plus bas pour les détails).
\begin{figure}[H]
	\centering
		\includegraphics[scale=0.5]{images/chosingframe1.png}
	\caption{ChosingFrame (1re étape)}
	\label{fig:chosingframe1}
\end{figure}
\begin{figure}[H]
	\centering
		\includegraphics[scale=0.5]{images/chosingframe2.png}
	\caption{ChosingFrame (2e étape)}
	\label{fig:chosingframe2}
\end{figure}

\subsection{Écoulement du temps}
Dans la partie basse de l'interface, trois éléments permettent de gérer le passage du temps. À gauche, un bouton permet de mettre en pause ou de reprendre le passage automatique des cycles. Au milieu, un curseur sert à régler la vitesse d'écoulement du temps lors des cycles automatiques. 
\newline
Enfin, à droite, un bouton permet de passer au cycle suivant manuellement, même si l'écoulement du temps est en pause.
\begin{figure}[H]
	\centering
		\includegraphics[scale=0.5]{images/temps.png}
	\caption{Contrôle du temps}
	\label{fig:temps}
\end{figure}

\subsection{Statistiques centrales}
Au centre de la fenêtre, des informations sont affichées. Par défaut, il s'agira d'un diagramme représentant les pays ainsi que leurs relations. Chaque pays possède une couleur et un halo changeant de couleur en fonction de ses relations : rouge s'il est en guerre, bleu s'il fait du commerce, blanc sinon.
\newline
De plus, des traits lient les peuples en fonction de leurs relations (mêmes codes couleurs que pour les halos).
\newline
Si un peuple est sélectionné\footnote{Voir plus bas pour la sélection d'un peuple}, les statistiques affichées seront celles du peuple en question, et plus de détails seront fournis sur celui-ci.
\begin{figure}[H]
	\centering
		\includegraphics[scale=0.5]{images/details.png}
	\caption{Détails}
	\label{fig:details}
\end{figure}

\subsection{Graphiques}
En haut à droite de la fenêtre, un graphique en courbes est présent et affiche par défaut la population de chaque peuple.
\newline
Lorsqu'un peuple est sélectionné, le graphique montre l'ensemble de ses données plutôt que la population totale, permettant ainsi un aperçu visuel de l'état des différents peuples.
\begin{figure}[H]
	\centering
		\includegraphics[scale=1]{images/graphique.png}
	\caption{Graphique (vue détaillée)}
	\label{fig:graphiques}
\end{figure}
\begin{figure}[H]
	\centering
		\includegraphics[scale=1]{images/graphique2.png}
	\caption{Graphique (vue globale)}
	\label{fig:graphiques2}
\end{figure}

\subsection{Sélectionner un peuple}
Un menu déroulant comportant tous les peuples et un bouton de validation sont à gauche de la fenêtre. Ceux-ci permettent de sélectionner un peuple. En validant, on a accès à ses statistiques détaillées au centre de l'interface.
\newline
Il y a également une option \textit{Aucun} permettant de revenir à l'affichage des statistiques globales des relations entre les peuples.
\begin{figure}[H]
	\centering
		\includegraphics[scale=0.375]{images/selpeuple.png}
	\caption{Sélection du peuple}
	\label{fig:selpeuple}
\end{figure}

\subsection{Sélectionner un évènement}
Les évènements peuvent être déclenchés manuellement par l'utilisateur, via un menu déroulant. Les évènements envoyés manuellement sont globaut, c'est-à-dire qu'ils concerne l'ensemble des peuples.
\newline
Lorsqu'un évènement est envoyé manuellement, il sera déclenché au début du prochain cycle. Ainsi, si l'utilisateur envoie par exemple trois séismes, les trois se déclencheront simultanément.
\begin{figure}[H]
	\centering
		\includegraphics[scale=0.375]{images/selevent.png}
	\caption{Sélection des évènements}
	\label{fig:selevent}
\end{figure}
\subsection{Logs}
Une zone de texte, en bas à droite de la fenêtre principale, présente les logs. Tout ce qu'il se passe dans la simulation est retranscrit ici, avec un code couleur permettant de différencier les différents évènements :
\begin{itemize}
\bulletitem{Rouge : guerre}
\bulletitem{Bleu : commerce}
\bulletitem{Vert : évènements}
\end{itemize}
Ainsi, il est possible de conserver un historique de tout ce qu'il s'est passé dans les derniers cycles.
\newline
Initialement, nous avions prévu de gérer les couleurs en utilisant un formatage HTML et en affichant ensuite la page ainsi créée, mais nous avons ensuite décidé d'utiliser les objets Document et Style de Swing pour des raisons techniques.
\begin{figure}[H]
	\centering
		\includegraphics[scale=1]{images/logs.png}
	\caption{L'affichage des logs}
	\label{fig:logs}
\end{figure}
\subsection{Système de thèmes}
Lors de la sélection initiale des peuples, il est possible de choisir un thème via un menu déroulant. Ces thèmes ne modifient que l'aspect graphique du programme et permettent ainsi une forme de personnalisation de l'interface par l'utilisateur.
\newline
Les thèmes sont simplement différents dossiers contenant les images utilisées dans le GUI.
\newline
Ainsi, changer de thème revient à changer de dossier source pour les images, il est dont possible d'ajouter un grand nombre de thèmes facilement.
\begin{figure}[H]
	\centering
		\includegraphics[scale=0.375]{images/themes.png}
	\caption{Différences entre deux thèmes}
	\label{fig:themes}
\end{figure}
\subsection{Tray Icon}
Le programme dispose d'une icône dans la barre des tâches.
\newline
Celle-ci est composée d'un H stylisé sur un fond dégradé pouvant changer en fonction du thème sélectionné.
\newline
On peut utiliser cette icône pour réduire ou restaurer la fenêtre.
\begin{figure}[H]
	\centering
		\includegraphics[scale=1]{images/icon.png}
	\caption{L'icône du programme}
	\label{fig:icon}
\end{figure}